# 서버 구조 개요

## 물류 서버 : 파일 4개 + 파라미터 파일로 구성
  1. 서버 파일
  2. TCP 클라이언트 파일
  3. Serial 클라이언트 파일
  4. 재고 관리자 파일
  5. (파라미터 파일)

## 디렉터리 구조
```
/LMS
├── README.md              # 서버 구조 개요 README 파일
├── lms_main.py            # 서버 메인 파일
├── tcp_handler.py         # TCP 핸들러 파일 : 통신 수신시 이벤트 발생 담당
├── serial_handler.py      # Serial 핸들러 파일 : 통신 수신시 이벤트 발생 담당
└── inventory_manager.py   # 핸들러에서 이벤트 발생시 실제 동작
```

## 1. 서버 main 파일
1. 개요
  - TCP 클라이언트, Serial 클라이언트, 재고 관리자 통합 기능 (main 역활, 200줄 이내)

## 2. TCP 클라이언트
1. 개요
  - 서버 스레드를 막지 않으면서 (block X) 소켓 통신을 별도 스레드에서 담당

2. 역활
  1. TCP/IP 클라이언트 실행 및 관리 (네트워크 3계층)
  2. 명령어 파싱 (별도 파일로 분리하지 않고 내부적으로 처리)
  3. 명령어 수신시 재고 등 변경
  4. 명령어 발신시

## 3. Serial 클라이언트
1. 개요
  - 서버 스레드를 막지 않으면서 (block X) 시리얼 통신을 별도 스레드에서 담당

2. 역활
  1. 시리얼 클라이언트 실행 및 관리 (네트워크 1계층)
  2. 명령어 파싱 (시리얼 <-> )
  3. (재고, 로봇상태 변경에 대한) 이벤트 발생 (별도 파일로 분리하지 않고 내부적으로 처리)

## 4. 재고 관리자
1. 개요
  - TCL / 시리얼 통신 이벤트에서 이벤트 발생시 (재고, 로봇상태 변경시) 실제 처리

2. 역활
  1. 구역별 재고, 로봇 상태, 누적 재고 통계 저장
  2. 각 클라이언트에서 명령어 수신 / 발신 이벤트 발생 시의 동작 정의 (e.g. 입고 [RI]) (재고 변경, 로봇 상태 변경)